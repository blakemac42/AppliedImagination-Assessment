<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" integrity="sha512-aOG0c6nPNzGk+5zjwyJaoRUgCdOrfSDhmMID2u4+OIslr0GjpLKo7Xm0Ao3xmpM4T8AmIouRkqwj1nrdVsLKEQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.4/themes/flick/jquery-ui.css">

    <link rel="stylesheet" href="home.css">
    <script src="home.js"></script>

    <script src="slider.js"></script>
    <link rel="stylesheet" href="slider.css">

</head>

<body>
<div class="page-gutter">
    <section id="head">
        <div class="header">
            <div class="logo">
                <img src="logo.svg">
            </div>
            <div class="menu">
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Company</a></li>
                    <li><a href="#">Get in Touch</a></li>
                </ul>
            </div>
        </div>
    </section>
</div>
<span class="header-divider"></span>

        <section id="hero">
            <div class="hero-copy-wrapper">
                <h1>Find the right<br>event for <span>you</span></h1>
                <p>From weddings to birthdays and all in between, the world needs speakers like you.  And not just any speaker - <i>really</i> good ones.  If you think you've got the strongest, most confident voice in the room, use it to broadcast a message that people want to hear.</p>
                <h6>Yeah, we didn't think it could get any better either.</h6>
                <div class="hero-btn-grp">
                    <a href="#"><ion-icon name="navigate"></ion-icon>Find an Event</a>
                    <a href="#"><ion-icon name="call"></ion-icon>Get in Touch</a>
                </div>
            </div>
            <div class="hero-img">
                <img src="top-graphic.png">
            </div>
        </section>

    <section id="events">
        <div class="page-gutter">
            <h2>Events for <span>every occasion</span></h2>
            <div class="event-row">
                <div class="event-container">
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Jane Doe &#8226; 30 mins</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Apple Keynote</h6>
                            <p>Apr 20, 2020 &#8226; Coolray Field</p>
                        </div>
                    </div>
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Eric Chan &#8226; 2 hrs</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Basic Title that truncates When (truncate)</h6>
                            <p>May 3, 2020 &#8226; Atlanta Symphony Orchestra (truncate)</p>
                        </div>
                    </div>
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Jerry Head &#8226; 1hr</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Node, NPM, and You</h6>
                            <p>Aug 24, 2020 &#8226; SunTrust Plaza</p>
                        </div>
                    </div>
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Ryan Bruzan &#8226; 8 hrs</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Facebook Developer Conference</h6>
                            <p>Jan 1, 2021 &#8226; Peachtree Tower</p>
                        </div>
                    </div>
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Jane Doe &#8226; 30 mins</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Apple Keynote</h6>
                            <p>Apr 20, 2020 &#8226; Coolray Field</p>
                        </div>
                    </div>
                    <div class="event">
                        <div class="event-img">
                            <img src="event-1.png">
                            <div class="event-user">
                                <span class="user"><ion-icon name="person"></ion-icon>Eric Chan &#8226; 2 hrs</span>
                            </div>
                        </div>
                        <div class="event-detail">
                            <h6>Basic Title that truncates When (truncate)</h6>
                            <p>May 3, 2020 &#8226; Atlanta Symphony Orchestra (truncate)</p>
                        </div>
                    </div>
                    <div class="event-view-more">
                        <p>View More (100+)</p>
                    </div>
                </div>
                <div class="filter-container">
                    <div class="filter-wrapper">
                        <div class="btn-container">
                            <button class="filter-btn active">In the Future</a>
                            <button class="filter-btn">In the Past</a>
                        </div>
                        <div class="search-wrapper">
                            <ion-icon class="search-icon" name="search-sharp"></ion-icon>
                            <input id="event-search" class="search" type="text" name="search" label="Search" placeholder="Search by name or location...">
                        </div>
                        <div class="event-location">
                            <label class="category">Event Location</label>
                            <select name="city" id="city">
                                <option selected="Atlanta">Atlanta</option>
                                <option>Birmingham</option>
                                <option>Mobile</option>
                                <option>Jackson</option>
                            </select>
                            <!-- <label class="category">Event Location</label> -->

                            <!-- <label id="city" class="value">Atlanta, GA
                            <ion-icon name="chevron-down-sharp"></ion-icon>
                            </label> -->
                        </div>
                        <div class="event-length">
                            <div class="event-length-wrapper">
                                <label class="category">Event Length</label>
                                <select id="min-hour">
                                    <option selected="1 hour">1 hour</option>
                                    <option>2 hours</option>
                                    <option>3 hours</option>
                                    <option>4 hours</option>
                                </select>
                                <!-- <label class="value">1 hour<ion-icon name="chevron-down-sharp"></ion-icon></label> -->
                                <span>to</span>
                                <select id="max-hour">
                                    <option>1 hour</option>
                                    <option selected="2 hours">2 hours</option>
                                    <option>3 hours</option>
                                    <option>4 hours</option>
                                </select>
                                <!-- <label class="value">2 hours<ion-icon name="chevron-down-sharp"></ion-icon> </label> -->
                            </div>
                        </div>
                        <div class="seat-cost">
                            <label class="category">Seat Cost</label>
                            <span class="dollar">$</span>
                            <input id="min-price" type="text" label="Min" placeholder="Min">
                            <span>to</span>
                            <span class="dollar">$</span>
                            <input id="max-price" type="text" label="Max" placeholder="Max">
                        </div>
                        <!-- <div class="event-size">
                            <label for="amount">Event Size</label>
                         
                        </div> -->

                        <div class="event-size">
                            <label class="category">Event Size</label>
                            <div class="slider"></div>
                        </div>
                     
                      
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="footer">
        <div class="footer-container">
           <div class="footer-wrapper">
            <div class="copyright">
                <p>Copyright &#169; Motivational Speakers, LLC All Rights Reserved.</p>
            </div>
            <div class="footer-icons">
            <ion-icon name="logo-twitter"></ion-icon>
            <ion-icon name="logo-facebook"></ion-icon>
            <ion-icon name="logo-linkedin"></ion-icon> 
            </div>
           </div>
        </div>
    </section>
    <!-- <button type="button" onclick="loadJSON()">TEST BUTTON</button> -->

    <script>
        //python -m SimpleHTTPServer 8000
        
        $(document).ready(function() {
            loadJSON();
            newLocation = $('#event-search').val();
            console.log(newLocation)
        });

        function loadJSON() {
            var data_file = "events.json";
            var http_request = new XMLHttpRequest();
            try{
            // Opera 8.0+, Firefox, Chrome, Safari
                http_request = new XMLHttpRequest();
            } catch (e) {
            // Internet Explorer Browsers
                try{
                    http_request = new ActiveXObject("Msxml2.XMLHTTP");    
                    }
                catch (e) {
                    try{
                    http_request = new ActiveXObject("Microsoft.XMLHTTP");
                        }
                                catch (e) {
                                    // Something went wrong
                                    alert("Your browser broke!");
                                    return false;
                                    }
                                    
                            } 
                        }
        
                            http_request.onreadystatechange = function() {
                    
                            if (http_request.readyState == 4  ) {
                            // Javascript function JSON.parse to parse JSON data
                            var jsonObj = JSON.parse(http_request.responseText);
                            console.log(jsonObj);

                            $("#event-search").on('input', function() {
                                let search = $(this).val();
                                // console.log(search)
                                fetchEvent(search)
                            })

                            $("#city").on('change', function(i){
                                var optionSelected = $('option:selected', this);
                                var valueSelected = this.value;
                                // console.log(valueSelected)
                                fetchEvent(valueSelected);
                            })

                            $("#min-hour").on('change', function(i){
                                var minHour = $('option:selected', this);
                                var minHour = this.value;
                                // console.log(minHour)
                                filterHourNumber(minHour);
                            })

                            $("#max-hour").on('change', function(i){
                                var maxHour = $('option:selected', this);
                                var maxHour = this.value;
                                // console.log(maxHour)
                                filterHourNumber(maxHour);
                            })

                            $("#min-price").on('input', function() {
                                let minPrice = $(this).val();
                                // console.log(search)
                                fetchEvent(minPrice)
                            })

                            $("#max-price").on('input', function() {
                                let maxPrice = $(this).val();
                                // console.log(search)
                                fetchEvent(maxPrice)
                            })

                            function filterHourNumber (hour){
                                if((hour).match(".*\\d.*")){
                                    let filterHour = hour.replace(/[^0-9]/g,'');
                                    // console.log(filterHour);
                                    fetchEvent(filterHour)
                                } 
                            }

                                function fetchEvent (filterVal){
                                    
                                    $(jsonObj).each(function(i, event) {
                                    if (~filterVal.indexOf(event.eventLocation)
                                    || ~filterVal.indexOf(event.eventName)
                                    || filterVal >= event.eventLength
                                    || filterVal >= event.eventCost
                                    ){
                                    console.log(event);
                                    
                                        $(".event-container").append("<div class='event filtered-event'>\
                                        <div class='event-img'>\
                                            <img src='event-1.png'>\
                                            <div class='event-user'>\
                                                <span class='user'><ion-icon name='person'></ion-icon>Jane Doe &#8226; 30 mins</span>\
                                            </div>\
                                        </div>\
                                        <div class='event-detail'>\
                                            <h6>" + event.eventName + "</h6>\
                                            <p>Apr 20, 2020 &#8226;" + event.eventLocation + "</p>\
                                        </div>\
                                    </div>")
                                    } else {
                                        
                                    }
                                })
                                }
                            }
                        }
                        







                        http_request.open("GET", data_file, true);
                        http_request.send();
                        }
                         
                        </script>
















</body>